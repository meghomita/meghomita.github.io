---
layout: default1
---

<div class="blog-container">
  <div class="blog-main">
    <div class="posts">
      {% for post in site.posts %}
        {% if post.megacategory == "blog" %}
          <article class="post">

            <h1><a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a></h1>

            <div class="entry">
              {{ post.excerpt }}
            </div>

            <a href="{{ site.baseurl }}{{ post.url }}" class="read-more">Read More</a>
          </article>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  <div class="blog-sidebar">
    <div class="sidebar-section">
      <h3>Archive by Date</h3>
      <ul class="date-list">
        {% assign blog_posts = site.posts | where: "megacategory", "blog" %}
        {% assign posts_by_year = blog_posts | group_by_exp: "post", "post.date | date: '%Y'" %}
        {% for year in posts_by_year %}
          <li>
            <strong>{{ year.name }}</strong>
            <ul>
              {% assign posts_by_month = year.items | group_by_exp: "post", "post.date | date: '%B'" %}
              {% for month in posts_by_month %}
                <li>
                  <a href="#{{ year.name }}-{{ month.name | downcase }}">{{ month.name }}</a>
                  <span class="post-count">({{ month.items.size }})</span>
                </li>
              {% endfor %}
            </ul>
          </li>
        {% endfor %}
      </ul>
    </div>

    <div class="sidebar-section">
      <h3>Tags</h3>
      <ul class="tag-list">
        {% assign blog_posts = site.posts | where: "megacategory", "blog" %}
        {% assign all_tags = "" | split: "," %}
        {% for post in blog_posts %}
          {% if post.tags %}
            {% for tag in post.tags %}
              {% unless all_tags contains tag %}
                {% assign all_tags = all_tags | push: tag %}
              {% endunless %}
            {% endfor %}
          {% endif %}
        {% endfor %}
        {% assign sorted_tags = all_tags | sort %}
        {% for tag in sorted_tags %}
          {% assign tag_posts = blog_posts | where_exp: "post", "post.tags contains tag" %}
          <li>
            <a href="#tag-{{ tag | slugify }}">{{ tag }}</a>
            <span class="post-count">({{ tag_posts.size }})</span>
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>